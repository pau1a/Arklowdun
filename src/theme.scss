/* Inter â€” variable font, offline-safe */
@font-face {
  font-family: "Inter";
  src: url("/src/assets/fonts/inter/Inter-VariableFont_slnt,wght.woff2") format("woff2-variations");
  font-weight: 100 900;
  font-stretch: 75% 125%;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Inter";
  src: url("/src/assets/fonts/inter/Inter-Italic-VariableFont_slnt,wght.woff2") format("woff2-variations");
  font-weight: 100 900;
  font-stretch: 75% 125%;
  font-style: italic;
  font-display: swap;
}

:root {
  --font-sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

html, body {
  font-family: var(--font-sans);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

/* Headings: subtle premium feel */
h1, h2, h3 { letter-spacing: -0.01em; }

@mixin theme-dark {
  --color-background: #0D1B2A;
  --color-panel: #1B263B;
  --color-text: #E0E8F9;
  --color-text-muted: #94A3B8;
  --color-border: #2C3E50;
  --color-accent: #00BFA5;
  --color-accent-text: #0D1B2A;
  --color-accent-soft: #12343F;
  --color-accent-soft-hover: #18515A;
  --color-sidebar-bg: #1B263B;
  --color-sidebar-border: #2C3E50;
  --color-rule: #243447;
  --color-sidebar-rule: var(--color-rule);
  --shadow-base: 0 1px 2px rgba(0, 0, 0, 0.5);
  --color-row-hover: #13293D;
  --overlay-bg: rgba(0, 0, 0, 0.65);
  --shadow-lg: 0 6px 20px rgba(0, 0, 0, 0.7);
  --color-bg: var(--color-panel);
  --color-success: #2DD4BF;
  --color-danger: #EF4444;
  color-scheme: dark;
}

/* Theme tokens and base styles scoped to theme-v1 */
.theme-v1 {
  /* Colors */
  --color-background: #F4F8FB;
  --color-panel: #FFFFFF;
  --color-text: #1E293B;
  --color-text-muted: #64748B;
  --color-border: #CBD5E1;
  --color-accent: #3B82F6;
  --color-accent-text: #FFFFFF;
  --color-accent-soft: #E0F2FE;
  --color-accent-soft-hover: #BAE6FD;
  --color-bg: var(--color-panel);
  --color-row-hover: var(--color-accent-soft-hover);
  --overlay-bg: rgba(0, 0, 0, 0.2);
  --shadow-lg: 0 6px 20px rgba(30, 41, 59, 0.15);
  --color-success: #10B981;
  --color-danger: #F43F5E;
  --color-sidebar-bg: #EDF2F7;
  --color-sidebar-border: #CBD5E1;

  /* New: rule/separator colors (light theme defaults) */
  --color-rule: #E2E8F0; /* general subtle rule */
  --color-sidebar-rule: var(--color-rule);

  /* Typography */
  --font-family-base: var(--font-sans);
  --font-size-base: 16px;

  /* Spacing */
  --space-1: 6px;
  --space-2: 10px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 36px;

  /* Shape */
  --radius-base: 10px;
  --radius-lg: 16px;
  --radius-pill: 9999px;
  --shadow-base: 0 1px 2px rgba(30, 41, 59, 0.08);

  background-color: var(--color-background);
  color: var(--color-text);
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  color-scheme: light;
}

@supports (color: color-mix(in srgb, black, white)) {
  .theme-v1 {
    /* 88% sidebar bg + 12% text color = crisp, unobtrusive hairline */
    --color-sidebar-rule: color-mix(
      in srgb,
      var(--color-sidebar-bg) 88%,
      var(--color-text)
    );
  }
}

.theme-v1 a {
  color: var(--color-accent);
}

.theme-v1 a:hover {
  color: var(--color-text);
}

.theme-v1 .container {
  background-color: var(--color-panel);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  box-shadow: var(--shadow-base);
}

:root[data-theme="dark"] .theme-v1,
.theme-v1[data-theme="dark"] {
  @include theme-dark;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) .theme-v1,
  .theme-v1:not([data-theme="light"]) {
    @include theme-dark;
  }
}
